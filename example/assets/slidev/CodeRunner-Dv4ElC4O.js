const __vite__fileDeps=["assets/slidev/shiki-D7fsoDbP.js","assets/monaco/bundled-types-D5NoDRcq.js","assets/modules/vue-nCsmiZeU.js","assets/modules/file-saver-igGfcqei.js","assets/monaco/bundled-types-Dq3oRKbE.css","assets/modules/shiki-3gNTLD-0.js","assets/modules/shiki-BPvBenZD.css"],__vite__mapDeps=i=>i.map(i=>__vite__fileDeps[i]);
import{S as D}from"../modules/unplugin-icons-BnCH8ItJ.js";import{aJ as P,d as N,t as k,E as H,o as a,b as u,a7 as J,y as z,Q as F,ac as q,aK as K,aB as Q,D as U,aa as W,ao as G,e as X,x as E,H as w,F as S,ad as B,c as Y,i as Z,g as M,h as ee,l as R,k as te}from"../modules/vue-nCsmiZeU.js";import{q as ne,_ as V,f as se,o as re,k as $}from"../monaco/bundled-types-D5NoDRcq.js";import{u as oe}from"./context-DoY2EGAA.js";import{a as ie,a0 as ae}from"../index-C7GYBrvO.js";import{_ as le}from"./IconButton.vue_vue_type_script_setup_true_lang-CfD3VfYn.js";import"../modules/file-saver-igGfcqei.js";import"../modules/shiki-3gNTLD-0.js";function ce(o){return Array.from({length:o})}function ue(){console.log("Hello from snippets/external.ts")}const de=Object.freeze(Object.defineProperty({__proto__:null,emptyArray:ce,sayHello:ue},Symbol.toStringTag,{value:"Module"})),L={vue:P,"./external":de},me=[],pe=ne(async()=>{const o={javascript:C,js:C,typescript:C,ts:C},{shiki:s,themes:t}=await V(async()=>{const{shiki:r,themes:l}=await import("./shiki-D7fsoDbP.js");return{shiki:r,themes:l}},__vite__mapDeps([0,1,2,3,4,5,6])),f=await s,h=(r,l,e={})=>f.codeToHtml(r,{lang:l,theme:typeof t=="string"?t:se.value?t.dark||"vitesse-dark":t.light||"vitesse-light",...e}),m=async(r,l,e)=>{try{const n=o[l];if(!n)throw new Error(`Runner for language "${l}" not found`);return await n(r,{options:e,highlight:h,run:async(c,i)=>await m(c,i,e)})}catch(n){return console.error(n),{error:`${n}`}}};for(const r of me){const l=await r(o);Object.assign(o,l)}return{highlight:h,run:m}});async function fe(o){const s=[],t={},f=function(...e){s.push(e.map(m))};t.info=t.log=t.debug=t.warn=t.error=f,t.clear=()=>s.length=0;const h=Object.assign({},console,t);try{const e=`return async (console, __slidev_import) => {
      ${l(o)}
    }`;await new Function(e)()(h,n=>{const c=L[n];if(!c)throw new Error(`Module not found: ${n}.
Available modules: ${Object.keys(L).join(", ")}. Please refer to https://sli.dev/custom/config-code-runners#additional-runner-dependencies`);return c})}catch(e){return{error:String(e)}}function m(e){return typeof e=="string"?{text:e}:{text:r(e),highlightLang:"javascript"}}function r(e){var c;let n="";if(e instanceof Error)n=`Error: ${JSON.stringify(e.message)}`;else if(e==null||typeof e=="symbol")n=String(e);else if(Array.isArray(e))n=`[${e.map(r).join(", ")}]`;else if(e instanceof Set){const i=[...e];n=`Set (${e.size}) {${i.map(r).join(", ")}}`}else if(e instanceof Map){const i=[...e.entries()];n=`Map (${e.size}) {${i.map(([d,p])=>`${r(d)} => ${r(p)}`).join(", ")}}`}else if(e instanceof RegExp)n=e.toString();else if(typeof e=="string")n=JSON.stringify(e);else if(typeof e=="object"){const i=((c=e.constructor)==null?void 0:c.name)??"",d=i&&i==="Object"?"":i;n=(d?`${d}: `:"")+JSON.stringify(e,(g,_)=>_===void 0?"__undefined__":_,2).replace(/"__undefined__"/g,"undefined"),n=String(n)}else n=String(e);return n}function l(e){return e=e.replace('import "reflect-metadata"',"").replace('require("reflect-metadata")',""),e=e.replace("export {};",""),e}return s}let O;async function C(o){O??(O=await V(()=>import("../monaco/bundled-types-D5NoDRcq.js").then(t=>t.t),__vite__mapDeps([1,2,3,4]))),o=O.transpileModule(o,{compilerOptions:{module:O.ModuleKind.ESNext,target:O.ScriptTarget.ES2022},transformers:{after:[he]}}).outputText;const s=/import\s*\((.+)\)/g;return o=o.replace(s,(t,f)=>`__slidev_import(${f})`),await fe(o)}function he(o){const{factory:s}=o,{isImportDeclaration:t,isNamedImports:f,NodeFlags:h}=O;return m=>{var l,e;const r=[...m.statements];for(let n=0;n<r.length;n++){const c=r[n];if(!t(c))continue;let i;const d=(l=c.importClause)==null?void 0:l.namedBindings,p=[];if((e=c.importClause)!=null&&e.name&&p.push(s.createBindingElement(void 0,s.createIdentifier("default"),c.importClause.name)),d)if(f(d)){for(const _ of d.elements)p.push(s.createBindingElement(void 0,_.propertyName,_.name));i=s.createObjectBindingPattern(p)}else i=s.createIdentifier(d.name.text);else i=s.createObjectBindingPattern(p);const g=s.createVariableStatement(void 0,s.createVariableDeclarationList([s.createVariableDeclaration(i,void 0,void 0,s.createAwaitExpression(s.createCallExpression(s.createIdentifier("import"),void 0,[c.moduleSpecifier])))],h.Const));r[n]=g}return s.updateSourceFile(m,r)}}const _e=N({__name:"DomElement",props:{element:{}},setup(o){const s=o,t=k();return H(()=>{t.value&&t.value.appendChild(s.element)}),(f,h)=>(a(),u("div",{ref_key:"container",ref:t},null,512))}}),ve={key:0,class:"text-sm text-center opacity-50"},ge={key:1,class:"text-sm text-center opacity-50"},ye={key:2,class:"text-sm text-center opacity-50"},xe=["innerHTML"],be={key:1,class:"text-red-500"},we={key:3,class:"output-line"},Se=["innerHTML"],ke={key:2,class:"separator"},Oe={key:0,class:"absolute right-1 top-1 max-h-full flex gap-1"},Re=N({__name:"CodeRunner",props:{modelValue:{},lang:{},autorun:{type:[Boolean,String]},height:{},showOutputAt:{type:[null,Boolean,String,Number,Array]},highlightOutput:{type:Boolean},runnerOptions:{}},emits:["update:modelValue"],setup(o,{emit:s}){const t=o,f=s,{isPrintMode:h}=ie(),m=J(t,"modelValue",f),{$renderContext:r,$clicksContext:l}=oe(),e=z(()=>!["slide","presenter"].includes(r.value)),n=h.value?"once":t.autorun,c=k(n),i=F(),d=k(0),p=k(),g=k(t.showOutputAt);if(t.showOutputAt){const x=ae();q(()=>{const y=l.calculate(t.showOutputAt);y?(l.register(x,y),K(()=>{g.value=!y.isActive.value})):g.value=!1}),Q(()=>l.unregister(x))}const _=re(200,async()=>{if(e.value)return;const{highlight:x,run:y}=await pe();p.value=x;const j=setTimeout(()=>{c.value=!0},500);i.value=$(await y(m.value,t.lang,t.runnerOptions??{})),d.value+=1,c.value=!1,clearTimeout(j)});return n==="once"?_():n&&U(m,_,{immediate:!0}),(x,y)=>{var A;const j=D;return a(),u(S,null,[W(X("div",{class:"relative flex flex-col rounded-b border-t border-main",style:ee({height:t.height}),"data-waitfor":".slidev-runner-output"},[e.value?(a(),u("div",ve,' Code is disabled in the "'+E(w(r))+'" mode ',1)):c.value?(a(),u("div",ge," Running... ")):(A=i.value)!=null&&A.length?(a(),u("div",{key:`run-${d.value}`,class:"slidev-runner-output"},[(a(!0),u(S,null,B(i.value,(v,I)=>(a(),u(S,{key:I},["html"in v?(a(),u("div",{key:0,innerHTML:v.html},null,8,xe)):"error"in v?(a(),u("div",be,E(v.error),1)):"element"in v?(a(),Y(_e,{key:2,element:v.element},null,8,["element"])):(a(),u("div",we,[(a(!0),u(S,null,B(w($)(v),(b,T)=>(a(),u(S,{key:T},[b.highlightLang&&p.value?(a(),u("span",{key:0,class:"highlighted",innerHTML:p.value(b.text,b.highlightLang)},null,8,Se)):(a(),u("span",{key:1,class:Z(b.class)},E(b.text),3)),T<w($)(v).length-1?(a(),u("span",ke,",")):M("v-if",!0)],64))),128))]))],64))),128))])):(a(),u("div",ye," Click the play button to run the code "))],4),[[G,!g.value]]),w(m).trim()?(a(),u("div",Oe,[R(le,{class:"w-8 h-8 max-h-full flex justify-center items-center",title:"Run code",onClick:w(_)},{default:te(()=>[R(j)]),_:1},8,["onClick"])])):M("v-if",!0)],64)}}});export{Re as default};
